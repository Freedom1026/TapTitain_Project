<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../js/vue.min.js"></script>
    <link rel="icon" type="image/png" sizes="192x192" href="../img/favicon.ico" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="../js/convenience stores.js"></script>
    <script src="../js/address.js"></script>
    <title>購物車</title>
</head>
<body>
  <nav class="navbar navbar-expand-md bg-dark navbar-dark">
    <!-- Brand -->
    <a class="navbar-brand" href="../"><img src="../img/LOGO.png" alt=""><img src="../img/title2.png" alt=""></a>

    <!-- Toggler/collapsibe Button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar links -->
    <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#">遊戲介紹</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">最新消息</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/member/profile">會員專區</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../member/shop">周邊商品</a>
        </li>
      </ul>
    </div>
  </nav>

   <div id="app">

    <div class="container">

      <table class="table table-striped table-dark">
        <thead>
          <tr>
            <th scope="col">刪除</th>
            <th scope="col">產品名稱</th>
            <th scope="col">單價</th>
            <th scope="col">數量</th>
            <th scope="col">小計</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="3"></td>
            <td>運費</td>
            <td>NT$</td>
          </tr>
          <tr>
            <th scope="row">總計</th>
            <td colspan="3"></td>
            <td>NT$</td>
          </tr>
        </tbody>
      </table>

      <h3>付款與收件方式</h3>

<!-- 宅配 -->
<div class="form-group row">
  <div class="col-lg-2">收件人</div>
  <div class="col-lg-3"><input type="text" maxlength="10" class="form-control"></div>
</div>
<div class="form-group row">
  <div class="col-lg-2">聯絡電話</div>
  <div class="col-lg-3"><input type="text" maxlength="10" class="form-control"></div>
</div>
<div class="form-group row">
  <div class="col-lg-2">手機號碼</div>
  <div class="col-lg-3"><input type="text" maxlength="10" class="form-control"></div>
</div>
<div class="form-group row">
  <div class="col-lg-2">收件地址</div>
  <div class="col-lg-5"><input type="text" minlength="12" class="form-control"></div>
</div>
<div class="form-group row">
  <div class="col-lg-3"></div>
  <div class="col-lg-3">
    <button @click="gotomydata">修改個人資料</button>
  </div>
</div>
      
<!-- 超市 -->
    <div class="form-group row">
      <div class="col-lg-12">
        <span>選擇超商</span>
        <select name="brands" id="brands" v-model="brands">
        <option value="統一">7-11取貨</option>
        <option value="全家">全家取貨</option>
      </select>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-lg-2">
        <label for="menu">縣市</label>
        <select name="menu" id="menu" v-model="city" @change="reg_city($event.target.selectedOptions[0].index)">
          <option disabled selected>縣市</option>
          <option v-for="item in citymenu" :value="item.cityname">{{item.cityname}}</option>
        </select>
      </div>
      <div class="col-lg-2">
        <label for="menu2">地區</label>
        <select name="menu2" id="menu2" v-model="area">
          <option disabled selected>地區</option>
          <option v-for="item in areamenu" :value="item">{{item}}</option>
        </select>
      </div>
      <div class="col-lg-8">
        <label for="menu3">分店地址</label>
        <select name="add_for_goods" id="menu3">
          <option v-for="item in ar">{{item.分公司地址}}</option>
        </select>
      </div>
    </div>

      
    

  </div>
</div>




  <template>
    <tr>
      <td>-</td>
      <td>name</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </template>


<script>
  var vm = new Vue({
    el:'#app',
    data:{
      brands:'',
      city:'縣市',
      area: '地區',
      index_city : 0,
      citymenu: districtList,
      areamenu: districtList[0].areaname,
      ar:[]
    },
    watch:{
      brands:function(){
        this.reg_check();
      },
      area:function(){
        this.reg_check();
      }
    },
    methods:{
      reg_city(index){
        index -= 1;
        this.areamenu = districtList[index].areaname;
        let patt3 = new RegExp(this.area);
        let patt = new RegExp(this.brands);
        let patt2 = new RegExp(this.city);
        let temar = convenience_stores.filter(word => patt.test(word.公司名稱));
        temar = temar.filter(word => patt2.test(word.分公司地址));
        this.ar = temar.filter(word => patt3.test(word.分公司地址));
      },
      reg_check(){
        let patt3 = new RegExp(this.area);
        let patt = new RegExp(this.brands);
        let patt2 = new RegExp(this.city);
        let temar = convenience_stores.filter(word => patt.test(word.公司名稱));
        temar = temar.filter(word => patt2.test(word.分公司地址));
        this.ar = temar.filter(word => patt3.test(word.分公司地址));
      },
      gotomydata(){
        window.location.replace("http://stackoverflow.com");
      }
    }
  })


</script>
   
</body>
</html>